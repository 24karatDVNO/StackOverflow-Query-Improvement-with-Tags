<p>The provided code should behave as desired. If the problem indeed exists as described, it must be caused by code elsewhere in the application.</p>