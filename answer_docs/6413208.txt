<p>For the issue of insert if an item doesn't existing or updating if it does not, use "INSERT OR REPLACE INTO" for your sql statement.</p>

<p>For the constraint on the max number of rows, this is something you'll have to handle separately and there are a few ways you can do this.</p>

<p>Here's an older post to check out:
<a href="https://stackoverflow.com/questions/2035670/limit-a-sqlite-tables-maximum-number-of-rows">Limit an sqlite Table&#39;s Maximum Number of Rows</a></p>