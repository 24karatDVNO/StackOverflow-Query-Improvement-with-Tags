<p>It looks like Android is not flushing the DNS cache when you toggle wifi on and off in 2.2. I've had the server reconfigured to always return the external address whether you're hitting it remotely or on the server's network and it seems to be working fine now.</p>