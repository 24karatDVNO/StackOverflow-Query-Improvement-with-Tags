<p>It might be worth looking into JXPath: <a href="http://commons.apache.org/jxpath/" rel="nofollow">http://commons.apache.org/jxpath/</a>
I'm not sure what language you're targeting, but it might be worth the shot.</p>

<p>Anyway, my first impulse if I had to try and implement something like this would be to find a way to "serialize" both trees, and reduce the problem to one of simple string matching.</p>