<p>I do both.</p>

<p>What I mean is that, following the guideline from Scott Meyers, I only define variables at the last possible moment.  When this means they follow an open brace I take this as a signal that this part of the function might need extracting to its own function.  Once the new function is extracted those local variables have been extracted along with it - and they appear at the top of the function.</p>