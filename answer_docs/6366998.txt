<p>My suggestion is:</p>

<ol>
<li>Use cookies for tracking of user identity. As you yourself have said, due to dynamic IP addresses, you can't reliably use them for tracking user identity. </li>
<li>To detect and curb spam, use IP + user browser agent combination. </li>
</ol>