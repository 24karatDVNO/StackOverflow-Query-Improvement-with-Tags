<p>There is no way to do it at runtime without void *. But there is way to do it without separately compiled code: all operations can be #define.</p>

<p><a href="http://www.freebsd.org/cgi/cvsweb.cgi/src/sys/sys/queue.h?rev=1.75;content-type=text%2Fx-cvsweb-markup" rel="nofollow">http://www.freebsd.org/cgi/cvsweb.cgi/src/sys/sys/queue.h?rev=1.75;content-type=text%2Fx-cvsweb-markup</a></p>