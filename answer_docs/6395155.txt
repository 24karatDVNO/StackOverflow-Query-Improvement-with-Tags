<p>Have you tried  <a href="http://php.net/manual/en/functions.anonymous.php" rel="nofollow">anonymous functions</a>? In that way you can use if-else statements within a function </p>