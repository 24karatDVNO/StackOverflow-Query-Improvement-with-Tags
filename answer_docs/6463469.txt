<p>I'd take a look at: <a href="https://github.com/nodejitsu/node-http-proxy" rel="nofollow">https://github.com/nodejitsu/node-http-proxy</a> as it satisfies all of your requirements.  I'm not sure why there's a need to build it from scratch, but I suppose if you decide to build it in node, you can certainly at least take inspiration from this.</p>