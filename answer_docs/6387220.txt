<p>What you're looking for are MySQL transactions. More info in their manual.</p>