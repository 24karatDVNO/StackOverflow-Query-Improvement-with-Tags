<p>This is really a product specific question. I have had a quick look over the code for lagger and it isn't too complicated. I think it be best that you look at how it all works and modify it for your own purposes.</p>