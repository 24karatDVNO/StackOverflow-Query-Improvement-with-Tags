<p>It turned out that there was some "framework" code that picked up a setting "IsSslEnabled" that defaulted to false and redirect to http every time https was hit.</p>

<p>Grrrrr</p>