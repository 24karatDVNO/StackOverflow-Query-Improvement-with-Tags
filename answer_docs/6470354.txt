<p>How about rather than taking that approach you use something like Velocity? You basically read all the numbers in <code>left</code> in an array and all the numbers in <code>right</code> in a different array and pass these arrays to the Velocity context then let the user type a Velocity style if conditional and let Velocity take care of the rest ?</p>