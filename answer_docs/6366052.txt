<p>We store employee schedules and non available hours in two different tables. The search is building available hours and then excludes non available. Data structure for employee schedules is quite complicated since storing schedule for every day just made our search very very slow and tables large.</p>