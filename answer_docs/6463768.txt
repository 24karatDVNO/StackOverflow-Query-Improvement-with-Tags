<p>I think for this kind of problems it is better to use smart pointers ex: boost::shared_ptr or any other equivalent implementation.</p>