<p>Well for starter you could rewrite it so the class has a serialize/deserialize method which expects an output/input stream parameter. This code is not reusable. You also want to rewrite the code for doing output <code>std::ostream&amp; operator&lt;&lt;(std::ostream&amp; s, Student const&amp; rhs)</code>, etc.. Your code is a big pile of <em>censored</em>. If you rewrite it the main logic is going to be a couple of lines and everybody who spends 30 seconds checking it can show where the problem is.</p>