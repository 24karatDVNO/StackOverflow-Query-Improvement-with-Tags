<p>You might want to look at <a href="https://stackoverflow.com/questions/273567/secret-santa-algorithm">this similar problem</a> or the answers to <a href="http://www.rubyquiz.com/quiz2.html" rel="nofollow noreferrer">ruby quiz 2</a> for ideas.</p>

<p>A basic approach might be to copy the list, shuffle the copy and line the two up.  But that can end up with the same issue you have.  But then look through the list you can swap with each self-referencing one.</p>