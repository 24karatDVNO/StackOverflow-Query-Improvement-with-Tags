<p>As for Facebook, unfortunately this is not possible using email since users may choose not to share their real email with you.  </p>

<p>One way, for Facebook, is to store the Facebook user id (you should be doing this anyway) and retrieve the newly registered user friends' ids and check if any of these ids present in your DB.</p>