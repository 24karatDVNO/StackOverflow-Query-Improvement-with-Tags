<p>Rather than shell script, I'd do this kind of thing with a Perl script. You can use the split() function to get an array with all the "fields" for each line, and it's downhill from there. No need to think up a fancy regular expression. <a href="http://perlmeme.org/howtos/perlfunc/split_function.html" rel="nofollow">Here</a>'s 
an example of doing this kind of thing:</p>