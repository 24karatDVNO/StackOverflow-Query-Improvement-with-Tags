<p>Try creating a <a href="http://www.firebreath.org" rel="nofollow">FireBreath</a> Plugin and then look at what differs between how it works and how you built yours. Alternately, just use a FireBreath plugin -- it's a heck of a lot easier to deal with than making your NPAPI plugin from scratch and works around a lot of browser issues and inconsistencies.</p>

<p>FireBreath plugins work as NPAPI plugins on mac and have been reported to work in Opera.</p>