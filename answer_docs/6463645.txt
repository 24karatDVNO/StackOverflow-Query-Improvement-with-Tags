<p>Open a long <a href="https://code.google.com/chrome/extensions/messaging.html#connect" rel="nofollow">lived connection</a> from the popup to the background_page anytime it opens. In the background_page you can check to see if the connection is currently active. If it is pass the necessary messages otherwise wait until the connection is active.</p>