<p>You can enable behavior on specific actions using drupal commerce: drupal.org/project/commerce
Then extend that with the role subscription module that enables you to grant roles on behaviors like checkout: <a href="http://drupal.org/project/role_subscription" rel="nofollow">http://drupal.org/project/role_subscription</a>
For the reoccurring payments I would use the commerce subscription module on top of the other two: <a href="http://drupal.org/project/commerce_subscription" rel="nofollow">http://drupal.org/project/commerce_subscription</a></p>

<p>E-commerce can be a bit tricky to set up so also check out the documentation on drupalcommerce.org/ and the project pages I listed above.</p>