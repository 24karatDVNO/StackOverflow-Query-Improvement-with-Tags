<p>I guess in Friendship entity you added User entity twice (very fine) but why </p>

<pre><code>private Integer friendAId;
private Integer friendBId;
</code></pre>

<p>again there? That could be cause of ID getting generated twice.</p>