<p>You could check the rubinius parser, it may help you to do what you want.</p>