<p>From the other answers to the question, it would seem that whilst there are ways of accomplishing this with CSS, there isn't an <em>elegant</em> way. As such, my prefered solution is to generate the numbering in the HTML and style appropriately. This can be trivial to do if the page is generated as a result of server side scripting.</p>

<p>I shall keep an eye out for more elegant ways of solving this with CSS and update this question if I find any.</p>