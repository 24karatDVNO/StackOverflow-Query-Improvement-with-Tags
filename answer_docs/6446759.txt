<p><code>String.prototype.replace</code> returns the modified string, it does not modify the original. You must assign the returned value:</p>

<pre><code>var newString = data.replace( "'", '%27' );
</code></pre>