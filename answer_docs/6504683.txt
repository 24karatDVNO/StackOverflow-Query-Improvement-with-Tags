<p>Go for which ever approch you feel is more flexible.</p>

<p>If you think that the user has allocated the memory and user has to free.then let him do it in his own way.</p>

<p>If you think that you want to make a user's life easy then write a suitable free function  and let him call it if he thinks he should call it.</p>

<p>The question also seems to be vague here since untill the whole requirement is presented the question cant be answered.</p>