<p>In your code, both <code>z</code> and <code>z'</code> are <code>Polar</code> because the first case covers all of the possibilities in which both are <code>Rec</code>, so in the second case <code>z</code> is not <code>Rec</code>, or it would have used the first case. Similarly in the other cases, each <code>z</code> and <code>z'</code> must be <code>Polar</code> because otherwise it would have been caught by a previous case instead. Thus you can safely write <code>z=Polar(a,b)</code>, or more accurately <code>z=Polar(r, a)</code> for radius and angle.</p>