<p>Named queries are fine as long as you're sure that stored procedures will bring you additional benefits over ad hoc queries.
Query.substitution parameter is transforming the data for SQL query, not back. Could you show the call stack please?</p>