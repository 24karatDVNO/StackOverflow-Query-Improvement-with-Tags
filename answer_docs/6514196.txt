<p>That won't work </p>

<p>Repeat the interface declaration twice , one with the protocol and one without blocked inside the #if/#else/#endif structure</p>

<p>Preprocessor directives will only work in a non nested way like your header include.</p>