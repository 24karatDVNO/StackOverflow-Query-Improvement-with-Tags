<p>Maybe empty is returning false on an item that you might expect to be true... (for example 0). See: <a href="http://php.net/manual/en/function.empty.php" rel="nofollow">http://php.net/manual/en/function.empty.php</a></p>