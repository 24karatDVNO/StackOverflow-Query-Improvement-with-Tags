<p>Your problem is here:</p>

<pre><code>if (counter = 1)
</code></pre>

<p>Assignment instead of comparison. Compile with higher warning level.</p>