<p>10000000000 in base 2 is <code>1024</code> in base 10</p>

<p>10101 in base 2 is <code>21</code> in base 10</p>

<p>So, you probably want</p>

<pre><code>N = 1024; /* or from scanf */
M = 21;   /* but do not type numbers in base 2 */
</code></pre>

<p>before doing the bit masking and shifting.</p>