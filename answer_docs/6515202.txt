<p>Since you're taking 100,000 samples from just 10,000 lines, the majority of lines will be sampled. Read the entire file into an array data structure, and then randomly sample the array. This avoids file seeking entirely.</p>

<p>The more common case is to sample only a small subset of the file's data. To do that, assuming the lines are different length, seek to random points in the file, skip to the next newline (for example <code>cin.ignore( numeric_limits&lt; streamsize &gt;::max(), '\n' )</code>, and then parse the subsequent text.</p>