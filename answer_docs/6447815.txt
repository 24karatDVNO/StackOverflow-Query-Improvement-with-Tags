<p>For a 5-10MB file I would have a look at <a href="http://linux.die.net/man/2/writev" rel="nofollow">writev()</a> if your system supports it.  Read the entire file into memory since it is small enough.  Scan for the bytes you want to drop.  Pass writev() the list of iovecs (which will just be pointers into your read buffer and lenghts) and then you can rewrite the entire modified contents in a single system call.</p>