<p>In your case, both ways of computing the count are will do the same.</p>

<p>The memory consumption of this function should be proportional the size of the <code>&lt;p&gt;</code> elements. So, if there is lots of small elements, it shouldn't consume large amounts of memory. If you have relatively few huge elements, this could consume quite a lot of memory, because you're creating an <code>XElement</code> out of each of them. If this was the case, the memory consumption could be made much smaller by not creating them at all.</p>