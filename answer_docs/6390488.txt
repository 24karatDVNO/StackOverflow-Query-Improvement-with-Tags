<p>This is what you are looking for:</p>

<ul>
<li><a href="http://www.sqlprof.com/blogs/sqldev/archive/2008/04/12/pivots-with-dynamic-columns-in-sql-server-2005-2008.aspx" rel="nofollow noreferrer">Pivots with Dynamic Columns in SQL Server 2005/2008</a> </li>
<li><a href="https://stackoverflow.com/questions/1122117/sql-dynamic-pivot-how-to-order-columns">SQL Dynamic Pivot - how to order columns</a></li>
</ul>