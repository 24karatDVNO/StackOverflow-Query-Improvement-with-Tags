<p>It's bad practice to mess with view hierarchies while things are getting drawn. The best thing to do would be to use an <code>NSCell</code> version of <code>NSProgressIndicator</code>, but <code>AppKit</code> doesn't have such a thing. The solution described in <a href="https://stackoverflow.com/questions/1058639/how-to-display-indeterminate-nsprogressindicator-in-the-nsoutlineview/1058818#1058818" title="Daniel Jalkut&#39;s answer">Daniel Jalkut's answer</a> to a similar question is probably the fastest path to what you want. Here's the basic idea:</p>

<p>Rather than use the <code>refreshing</code> variable to switch paths during drawing, observe your items' <code>refreshing</code> state. When it becomes true, add an <code>NSProgressIndicator</code> as a subview of your <code>NSOutlineView</code> at the item's position given <code>frameOfCellAtColumn:row:</code> (it can be convenient to set up a column for the progress indicators on the far right). When it becomes false, remove the corresponding progress indicator. You will also want to be sure to set the autosizing flags appropriately on these progress indicators so they move around as the outline view gets resized.</p>