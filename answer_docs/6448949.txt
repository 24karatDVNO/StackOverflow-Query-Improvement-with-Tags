<ol>
<li>You know the first page</li>
<li>You know the last page</li>
<li>You know the current page</li>
</ol>

<p>So</p>

<ul>
<li>If there are more than 2 pages between first &amp; current, show '...' then two pages closest to current</li>
<li>else show all pages between first and current</li>
<li>repeat for last</li>
</ul>