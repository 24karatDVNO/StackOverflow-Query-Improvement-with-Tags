<p>If you throw the custom exception from inside main and can catch it, then you must be exhibiting UB somewhere in the call-stack which is resulting in the later exception not being caught.</p>