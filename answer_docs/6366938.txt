<p>An option would be to send the file's mimetype to the user (<code>text/plain</code> for example), and <code>echo</code> the current file contents. After that you write both to the file and the output, so that the output to the user will mimic the file.</p>