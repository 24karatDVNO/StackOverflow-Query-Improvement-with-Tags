<p>I would use <a href="http://php.net/manual/en/class.domdocument.php" rel="nofollow">Dom Document</a> to parse the html rather than regexp.</p>