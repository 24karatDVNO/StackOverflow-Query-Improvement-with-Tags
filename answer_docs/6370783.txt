<p>I know about KTimeTracker KDE program which tracks how much time you've spend in each window. I don't know about details - whether it tracks events of changing active windows, or just periodically checks status of whole desktop. Nevertheless, sources might be helpful : <a href="http://www.kde.org/applications/utilities/ktimetracker/" rel="nofollow">http://www.kde.org/applications/utilities/ktimetracker/</a> .</p>