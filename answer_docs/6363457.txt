<p>It's negative because <code>floats</code> are structured differently than <code>long</code>s.  There's absolutely no reason to do that.  Remove the cast to a <code>float</code> and see if it works then.</p>