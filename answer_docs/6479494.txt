<p>I'd safe yourself loads of time and just use <a href="http://netbeans.org" rel="nofollow">Netbeans</a> out of the box. Does everything you've listed and more. It's also free and has a module architecture to allow new functionality to be added fairly easily.</p>